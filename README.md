# 共有_サボる時計 v0.2.8（GitHub Pages用）

このフォルダは **共有用サイト（GitHub Pages）**として公開できるように、
外部CDNに依存せず（p5.js / フォント / MediaPipe を同梱して）動く構成です。

## できること
- 顔を検知すると「見られている」状態になり、時計が登場して時刻を表示します
- 見られなくなるとサボります（表示が崩れ／消える）
- 画面比率に応じて自動レイアウト
  - 横長：`HH:MM`（左右）
  - 縦長：`HH` / `..` / `MM`（縦積み＋縦長ストレッチ）

## v0.2.8 追加：スマホ軽量化（自動）
- iOS/Android や小さな画面では、描画負荷を自動で軽くします（見た目はなるべく維持）
- どの軽量段階で動いているかは、画面左下の「診断」に `軽量:ON/強` と表示されます

## 起動・公開
### GitHub Pages
- リポジトリにこのフォルダの中身を置き、GitHub Pages を有効化して開いてください
- カメラは **HTTPS（GitHub Pages）** なら動作します

### ローカルで動作確認
MediaPipe（WASM/ESM）の都合で **file:// 直開きでは動かない**ことがあります。
ローカルサーバーで開いてください。

例：
- VSCode Live Server
- `python3 -m http.server 8000` → `http://localhost:8000/`

## 重要：カメラ起動には「ボタン押下」が必要です
iOS Safari / 多くのブラウザは、ユーザーの明確な操作なしにカメラを起動できません。
そのため、この版は **「カメラを許可して開始」ボタンを押したときだけ** カメラを開始します。

## 構成
- `index.html` : UI + 起動
- `src/main.js` : 本体ロジック
- `libs/p5.min.js` : p5.js
- `vendor/mediapipe/*` : MediaPipe（vision_bundle.mjs / wasm / model）
- `fonts/*` : Inter フォント
## オプション（UI）
- **カメラプレビュー**：カメラ映像の小窓を表示/非表示
- **緑枠**：検出した顔の位置に追従する緑枠を表示/非表示（プレビューONが必要）
- これらのON/OFFはブラウザに保存され、次回も引き継がれます


